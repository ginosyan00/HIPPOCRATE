import React from 'react';
import lightbulbIcon from '../../assets/icons/lightbulb.svg';

/**
 * DailyTipCard Component
 * Компонент для отображения совета дня
 * Используется на странице пациента и на главной странице
 */
export const DailyTipCard: React.FC = () => {
  // Функция для получения совета дня (разный каждый день)
  const getDailyTip = (): string => {
    // Массив советов для здоровья зубов
    const tips = [
      "Пейте не менее 8 стаканов воды в день для поддержания здоровья и хорошего самочувствия!",
      "Чистите зубы дважды в день утром и вечером по 2 минуты для идеальной гигиены полости рта.",
      "Используйте зубную нить ежедневно для удаления остатков пищи между зубами.",
      "Ограничьте потребление сладких напитков и продуктов, они могут повредить эмаль зубов.",
      "Регулярно посещайте стоматолога для профилактических осмотров каждые 6 месяцев.",
      "Используйте фторсодержащую зубную пасту для укрепления эмали и предотвращения кариеса.",
      "Избегайте курения и употребления табака - они вредят здоровью зубов и десен.",
      "Ешьте больше свежих овощей и фруктов - они помогают естественному очищению зубов.",
      "Заменяйте зубную щетку каждые 3 месяца или когда щетинки изнашиваются.",
      "Используйте ополаскиватель для рта после чистки зубов для дополнительной защиты.",
      "Ограничьте перекусы между основными приемами пищи для снижения риска кариеса.",
      "Пейте зеленый чай - он содержит антиоксиданты, полезные для здоровья десен.",
      "Избегайте слишком горячих или холодных напитков, они могут повредить эмаль.",
      "Жуйте жевательную резинку без сахара после еды для стимуляции слюноотделения.",
      "Используйте мягкую зубную щетку, чтобы не повредить десны при чистке.",
      "Массируйте десны мягкими круговыми движениями во время чистки зубов.",
      "Ограничьте потребление кислых продуктов, они могут разъедать эмаль зубов.",
      "Пейте молоко и ешьте молочные продукты - они богаты кальцием для крепких зубов.",
      "Избегайте использования зубов как инструмента для открывания упаковок.",
      "Практикуйте правильную технику чистки зубов - движения должны быть мягкими и круговыми.",
      "Используйте зубную пасту с фтором, одобренную стоматологической ассоциацией.",
      "Ограничьте потребление кофе и чая, они могут окрашивать зубы.",
      "Пейте воду после каждого приема пищи для естественного очищения полости рта.",
      "Избегайте стресса - он может привести к скрежетанию зубами во сне.",
      "Ешьте продукты, богатые витамином C, для здоровья десен.",
      "Используйте электрическую зубную щетку для более эффективной чистки.",
      "Ограничьте потребление алкоголя - он может сушить рот и способствовать кариесу.",
      "Практикуйте дыхание через нос, а не через рот, для поддержания здоровья полости рта.",
      "Регулярно проверяйте десны на наличие признаков воспаления или кровотечения.",
      "Пейте зеленый чай без сахара - он помогает бороться с бактериями во рту.",
      "Используйте зубную пасту с натуральными ингредиентами, если у вас чувствительные зубы.",
    ];

    // Получаем текущую дату и используем её как seed для выбора совета
    const today = new Date();
    const dayOfYear = Math.floor((today.getTime() - new Date(today.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));
    
    // Используем день года для выбора совета (гарантирует одинаковый совет в течение дня)
    const tipIndex = dayOfYear % tips.length;
    
    return tips[tipIndex];
  };

  const dailyTip = getDailyTip();

  return (
    <div className="bg-bg-white border border-stroke rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300">
      <div className="flex flex-col gap-4">
        <div className="flex items-center gap-3">
          <div className="w-10 h-10 bg-main-10 rounded-lg flex items-center justify-center flex-shrink-0">
            <img src={lightbulbIcon} alt="Совет" className="w-5 h-5" />
          </div>
          <div className="flex-1">
            <h3 className="text-base font-semibold text-text-100 mb-1">Совет дня</h3>
            <span className="px-2 py-0.5 bg-main-100 text-white text-xs font-medium rounded">
              {new Date().toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' })}
            </span>
          </div>
        </div>
        <p className="text-sm text-text-50 leading-relaxed">
          {dailyTip}
        </p>
      </div>
    </div>
  );
};
